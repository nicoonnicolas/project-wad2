<!doctype html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script type="text/javascript" src="vue.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>

    <link type="text/css" rel="stylesheet" href="scss/custom.css" />

    <!-- Load Vue followed by BootstrapVue -->
    <script src="https://unpkg.com/vue@latest/dist/vue.min.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>

    <!-- Load the following for BootstrapVueIcons support -->
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script>

    <!-- Firebase Source Files-->
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
    <!-- <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-analytics.js"></script> -->
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-database.js"></script>
    <!-- <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script> -->
    <script>
        // Initialize Firebase
        var firebaseConfig = {
            apiKey: "AIzaSyDhBjd0INJO6MpP_SX3vJJFRQzgrc1yCbc",
            authDomain: "just-clover-301402.firebaseapp.com",
            databaseURL:
                "https://just-clover-301402-default-rtdb.firebaseio.com",
            projectId: "just-clover-301402",
            storageBucket: "just-clover-301402.appspot.com",
            messagingSenderId: "999591178620",
            appId: "1:999591178620:web:5ed2ca489e1fee2836b4f9",
            measurementId: "G-4M8XE224JF",
        }
        firebase.initializeApp(firebaseConfig);
			// firebase.analytics();
    </script>

</head>

<body>
    <div id='app'>

        <div>
            <b-navbar toggleable="lg" type="light" variant="faded">
                <b-navbar-brand href="index.html">
                    <b-img src="images\app\logo.JPG" height="70px" width="70px"></b-img> Huddle
                </b-navbar-brand>

                <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

                <b-collapse id="nav-collapse" is-nav>
                    <b-navbar-nav>
                    </b-navbar-nav>

                    <!-- Right aligned nav items -->
                    <b-navbar-nav class="ml-auto">
                        <b-nav-item href="index.html">Find a Space</b-nav-item>
                        <b-nav-item href="bookings.html" active>My Bookings</b-nav-item>

                        <b-nav-item-dropdown right>
                            <!-- Using 'button-content' slot -->
                            <template #button-content>
                                <em>User</em>
                            </template>
                            <b-dropdown-item href="#">Profile</b-dropdown-item>
                            <b-dropdown-item href="#">Sign Out</b-dropdown-item>
                        </b-nav-item-dropdown>
                    </b-navbar-nav>
                </b-collapse>
            </b-navbar>
        </div>
        <div class=container>
            <div class="row">
                <div class="col">
                    <div>

                    </div>
                </div>

            </div>
        </div>
    </div>
    </div>


    <script>

        var vm = new Vue({
            el: '#app',
            data: {

            },
            created: function () {
                this.displayBookings();
            },
            computed: {
                loading: function () {
                    return loaded;
                }
            },
            methods: {
                displayBookings: function () {
                    // structure of /bookings in firebase
                    // ----bookings
                    // -------- random key value generated by firebase, e.g. MWIlobD2rQHE48I33BI
                    // ----------------bookingId:
                    // ---------------bookingPrice: 
                    // ---------------endDate: 
                    // ---------------isReccuring: 
                    // ---------------listingNum: 
                    // ---------------recurringDays: 
                    // ---------------startDate: 
                    //--------------- user: 


                    // Filters '/booking' object based on user ID, which can be found in /users. I think you will need to link up with Nicholas on how to get User ID! For now I just harded coded the User ID in .equalTo(), this is the only part you need to change in future
                    var bookings = firebase.database().ref("booking").orderByChild("user").equalTo(107797752277618950000).on("value", (snapshot) => {
                        console.log(snapshot.val())

                        // store snapshot.val() in your own variable
                        // this.bookings = snapshot.val()

                    })

                }
            },

        })

    </script>

    <style lang="scss">
        /* .btngrp--margin {
            margin-left: 200px;
        }

        .btngrp--nomargin {
            margin-left: 0px;
        } */
        .navbar-toggle-color {
            background-color: grey;
        }
    </style>

</body>

</html>