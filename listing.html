<!doctype html>
<html lang="en">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<script type="text/javascript" src="vue.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>

	<link type="text/css" rel="stylesheet" href="scss/custom.css" />

	<!-- Load Vue followed by BootstrapVue -->
	<script src="https://unpkg.com/vue@latest/dist/vue.min.js"></script>
	<script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>

	<!-- Load the following for BootstrapVueIcons support -->
	<script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script>

	<!-- Firebase Source Files-->
	<script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
	<!-- <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-analytics.js"></script> -->
	<script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-database.js"></script>
	<!-- <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script> -->
	<script>
		// Initialize Firebase
		var firebaseConfig = {
			apiKey: "AIzaSyDhBjd0INJO6MpP_SX3vJJFRQzgrc1yCbc",
			authDomain: "just-clover-301402.firebaseapp.com",
			databaseURL:
				"https://just-clover-301402-default-rtdb.firebaseio.com",
			projectId: "just-clover-301402",
			storageBucket: "just-clover-301402.appspot.com",
			messagingSenderId: "999591178620",
			appId: "1:999591178620:web:5ed2ca489e1fee2836b4f9",
			measurementId: "G-4M8XE224JF",
		}
		firebase.initializeApp(firebaseConfig);
			// firebase.analytics();
	</script>

    <style>
        #carousel-1 {
            width: 50%;
            height: auto;
            margin: auto;
        }
    </style>

</head>

<body>
	<div id='app'>
        <!-- --------------------NAVBAR------------------------- -->
		<b-navbar toggleable="lg" type="light" variant="faded">
			<b-navbar-brand href="index.html">
				<b-img src="images\app\logo.JPG" height="70px" width="70px"></b-img> Huddle
			</b-navbar-brand>

			<b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

			<b-collapse id="nav-collapse" is-nav>
				<b-navbar-nav>
				</b-navbar-nav>

				<!-- Right aligned nav items -->
				<b-navbar-nav class="ml-auto">
					<b-nav-item href="index.html" active>Find a Space</b-nav-item>
					<b-nav-item href="bookings.html">My Bookings</b-nav-item>
					<!-- <b-nav-form>
					<b-form-input size="sm" class="mr-sm-2" placeholder="Search"></b-form-input>
					<b-button size="sm" class="my-2 my-sm-0" type="submit">Search</b-button>
					</b-nav-form> -->


					<b-nav-item-dropdown right>
						<!-- Using 'button-content' slot -->
						<template #button-content>
							<em>User</em>
						</template>
						<b-dropdown-item href="#">Profile</b-dropdown-item>
						<b-dropdown-item href="#">Sign Out</b-dropdown-item>
					</b-nav-item-dropdown>
				</b-navbar-nav>
			</b-collapse>
		</b-navbar>
	</div>

		<div id="carousel">
			<template>
				<b-carousel
					id="carousel-1"
					v-model="slide"
					:interval="4000"
					controls
					indicators
					background="#ababab"
					img-width="1024"
					img-height="480"
					style="text-shadow: 1px 1px 2px #333;"
					@sliding-start="onSlideStart"
					@sliding-end="onSlideEnd"
				>
			
					<!-- Text slides with image -->
                    <b-carousel-slide
                    caption="First slide"
                    text="Nulla vitae elit libero, a pharetra augue mollis interdum."
                    img-src="https://picsum.photos/1024/480/?image=52"
                    ></b-carousel-slide>
            
                    <!-- Slides with custom text -->
                    <b-carousel-slide img-src="https://picsum.photos/1024/480/?image=54">
                    <h1>Hello world!</h1>
                    </b-carousel-slide>
            
                    <!-- Slides with image only -->
                    <b-carousel-slide img-src="https://picsum.photos/1024/480/?image=58"></b-carousel-slide>
		
				</b-carousel>
			
				<!-- <p class="mt-4">
					Slide #: {{ slide }}<br>
					Sliding: {{ sliding }}
				</p> -->
			</template>
		</div>

		<script>
			var app = new Vue({
				el: "#carousel",
			data: {
				slide: 0,
				sliding: null
			},
			methods: {
				onSlideStart(slide) {
				this.sliding = true
				},
				onSlideEnd(slide) {
				this.sliding = false
				}
			}
			})
		
		</script>	

	<script>
		// import ErrorHandler from "./ErrorHandler.vue";

		var vm = new Vue({
			el: '#app',
			// components: { ErrorHandler },
			// name: "NameOfComponent",
			data: {
				btngrpMargin: false,
				btngrpNoMargin: true,
				listings: null
			},
			created: function () {
				this.listings = "";

				var listings = firebase.database().ref("listing/");
				allListings = "";
				listings.on("value", (snapshot) => {
					console.log(snapshot);
					allListings = snapshot.val();
					this.listings = allListings;

					this.loaded = true;

				});
			},
			// computed: {

			// },
			methods: {
				changeMargin: function () {
					// if (this.btngrpNoMargin) {
					//     this.btngrpNoMargin = false;
					//     this.btngrpMargin = true;
					// } else {
					//     this.btngrpNoMargin = true;
					//     this.btngrpMargin = false;
					// }
				},
				getAllListings: function () {
					var listings = firebase.database().ref("listing/");
					allListings = "";
					listings.on("value", (snapshot) => {
						// console.log(snapshot.val());
						allListings = snapshot.val();
					});
					return allListings;
				},
				displayListings: function () {
					var allListings = this.getAllListings();
					this.listings = allListings;
					console.log(this.listings)
				}
			},

		})

	</script>

	<script>
		console.log(this.$route.query.test)
	</script>

	<style lang="scss">
		/* .btngrp--margin {
            margin-left: 200px;
        }

        .btngrp--nomargin {
            margin-left: 0px;
        } */
		.navbar-toggle-color {
			background-color: grey;
		}
	</style>

</body>

</html>